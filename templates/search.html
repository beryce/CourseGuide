{% extends "base.html" %}
    
{% block search %}
<h3>Search by course name:</h3>

<form id="search" method=POST action="{{ url_for('search') }}">
    <input id="searchterm" placeholder="Search" name="searchterm">
    <br>
    
    <p>and/or filter by semester: </p>
    <input id="semester_filter" placeholder="Year (ex. F19 or S18)" name="semester_filter">
    
    <p>and/or filter by professor: </p>
    <input id="professor_filter" placeholder="Professor" name="professor_filter">
    <button id="searchbutton" type="submit" name="submit" value="Search">Search</button>
</form>
{% endblock %}

{% block courseList %}
<h2>Search Results</h2>
<table id="courses-list">
    <tbody>
        <input type="hidden" id="uid" name="uid" value="{{uid}}">
    <tr>
        <th>Class name</th>
        <th>Semester</th>
        <th>Professor</th>
        <th>Average Hours</th>
        <th>Average Rating</th>
        <th>Favorites</th>
    </tr>

    {%for course in courses%}
        <tr data-cid={{course.cid}}>
        <td class="search_class_name"><a href = {{ url_for('createPost', cid = course.cid) }}>{{course.name}}</a></td>
        <td class="search_class_semester">{{course.semester}}</td>
        <td class="search_class_professor">{{course.professor}}</td>
        <td class="search_class_hours">{{course.avg_hours}}</td>
        <td class="search_class_rating">{{course.avg_rating}}</td>
        {% if course.isFav == '1' %}
        <td><button class="favButton" type="button">Starred!</button></td>
        {% else %}
        <td><button class="favButton" type="button">Star!</button></td>
        {% endif %}

    </tr>
    {% endfor %}
</table>
{% endblock %}

{% block tail %}
<script>
    var star_url = "{{url_for('star_course_ajax')}}";
</script>
{% endblock %}